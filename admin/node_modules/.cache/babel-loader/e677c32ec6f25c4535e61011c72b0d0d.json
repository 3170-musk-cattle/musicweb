{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'Artists',\n\n  data() {\n    return {\n      input: '',\n      artistData: []\n    };\n  },\n\n  created() {\n    this.showArtists();\n  },\n\n  methods: {\n    showArtists() {\n      this.axios.get('api/show_artists').then(response => {\n        console.log(response.data.list);\n        this.artistData = response.data.list;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n\n    operationRow(row) {\n      console.log(row.pk);\n      this.axios.get('api/delete_artist', {\n        params: {\n          pk: row.fields.name\n        }\n      }).then(response => {\n        console.log(response.data.msg);\n        this.showArtists();\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n\n    addArtist() {\n      this.axios.get('api/add_artist', {\n        params: {\n          name: this.input\n        }\n      }).then(response => {\n        console.log(response.data.msg);\n        this.showArtists();\n      }).catch(function (error) {\n        console.log(error);\n      });\n      this.input = '';\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAuBA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;AACbC,MAAI,EAAE,SADO;;AAEbC,MAAG,GAAK;AACN,WAAO;AACLC,WAAK,EAAE,EADF;AAELC,gBAAU,EAAE;AAFP,KAAP;AAID,GAPY;;AAQbC,SAAM,GAAK;AACT,SAAKC,WAAL;AACD,GAVY;;AAWbC,SAAO,EAAE;AACPD,eAAU,GAAK;AACb,WAAKN,KAAL,CAAWQ,GAAX,CAAe,kBAAf,EACGC,IADH,CACSC,QAAD,IAAc;AAClBC,eAAO,CAACC,GAAR,CAAYF,QAAQ,CAACR,IAAT,CAAcW,IAA1B;AACA,aAAKT,UAAL,GAAkBM,QAAQ,CAACR,IAAT,CAAcW,IAAhC;AACD,OAJH,EAKGC,KALH,CAKS,UAAUC,KAAV,EAAiB;AAAEJ,eAAO,CAACC,GAAR,CAAYG,KAAZ;AAAoB,OALhD;AAMD,KARM;;AASPC,gBAAW,CAAGC,GAAH,EAAQ;AACjBN,aAAO,CAACC,GAAR,CAAYK,GAAG,CAACC,EAAhB;AACA,WAAKlB,KAAL,CAAWQ,GAAX,CAAe,mBAAf,EAAoC;AAAEW,cAAM,EAAE;AAAED,YAAE,EAAED,GAAG,CAACG,MAAJ,CAAWnB;AAAjB;AAAV,OAApC,EACGQ,IADH,CACSC,QAAD,IAAc;AAClBC,eAAO,CAACC,GAAR,CAAYF,QAAQ,CAACR,IAAT,CAAcmB,GAA1B;AACA,aAAKf,WAAL;AACD,OAJH,EAKGQ,KALH,CAKS,UAAUC,KAAV,EAAiB;AAAEJ,eAAO,CAACC,GAAR,CAAYG,KAAZ;AAAoB,OALhD;AAMD,KAjBM;;AAkBPO,aAAQ,GAAK;AACX,WAAKtB,KAAL,CAAWQ,GAAX,CACE,gBADF,EAEE;AAACW,cAAM,EAAE;AACLlB,cAAI,EAAE,KAAKE;AADN;AAAT,OAFF,EAKGM,IALH,CAKSC,QAAD,IAAc;AAClBC,eAAO,CAACC,GAAR,CAAYF,QAAQ,CAACR,IAAT,CAAcmB,GAA1B;AACA,aAAKf,WAAL;AACD,OARH,EASGQ,KATH,CASS,UAAUC,KAAV,EAAiB;AAAEJ,eAAO,CAACC,GAAR,CAAYG,KAAZ;AAAoB,OAThD;AAUA,WAAKZ,KAAL,GAAa,EAAb;AACF;;AA9BO;AAXI,CAAf","names":["axios","name","data","input","artistData","created","showArtists","methods","get","then","response","console","log","list","catch","error","operationRow","row","pk","params","fields","msg","addArtist"],"sourceRoot":"","sources":["/home/jdr/musicweb/admin/src/views/Artists.vue"],"sourcesContent":["\n\n<template>\n  <div class=\"artist_box\">\n    <div>\n      New Artist  <el-input v-model=\"input\" placeholder=\"Artist Name\" style=\"width: 200px\">Artist Name</el-input>\n      <el-button type=\"success\" @click=\"addArtist\">Submit</el-button>\n    </div>\n    <el-table\n      :data=\"artistData\"\n      style=\"width: 1000px\">\n      <el-table-column width=\"50px\"></el-table-column>\n      <el-table-column prop=\"fields.name\" label=\"Artist Name\" width=\"400px\"></el-table-column>\n      <el-table-column label=\"Operations\" width=\"100px\" fixed=\"right\">\n        <template slot-scope=\"scope\">\n          <el-button @click=\"operationRow(scope.row)\" type=\"danger\" icon=\"el-icon-delete\" circle></el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n  name: 'Artists',\n  data () {\n    return {\n      input: '',\n      artistData: []\n    }\n  },\n  created () {\n    this.showArtists()\n  },\n  methods: {\n    showArtists () {\n      this.axios.get('api/show_artists')\n        .then((response) => {\n          console.log(response.data.list)\n          this.artistData = response.data.list\n        })\n        .catch(function (error) { console.log(error) })\n    },\n    operationRow (row) {\n      console.log(row.pk)\n      this.axios.get('api/delete_artist', { params: { pk: row.fields.name } })\n        .then((response) => {\n          console.log(response.data.msg)\n          this.showArtists()\n        })\n        .catch(function (error) { console.log(error) })\n    },\n    addArtist () {\n      this.axios.get(\n        'api/add_artist',\n        {params: {\n            name: this.input\n          }})\n        .then((response) => {\n          console.log(response.data.msg)\n          this.showArtists()\n        })\n        .catch(function (error) { console.log(error) })\n      this.input = ''\n    }\n  }\n}\n</script>\n\n<style scoped>\n.artist_box{\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n}\n</style>"]},"metadata":{},"sourceType":"module"}